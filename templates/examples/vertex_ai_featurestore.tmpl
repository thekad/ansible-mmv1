- name: Create Featurestore
  google.cloud.gcp_vertexai_featurestore:
    state: present
    name: "{{`{{ resource_name }}`}}"
    region: us-central1
    online_serving_config:
      fixed_node_count: 2
    project: "{{`{{ gcp_project }}`}}"
    auth_kind: "{{`{{ gcp_cred_kind }}`}}"
    service_account_file: "{{`{{ gcp_cred_file }}`}}"
  register: _myfs

- name: Delete Featurestore
  google.cloud.gcp_vertexai_featurestore:
    state: absent
    name: "{{`{{ _myfs.name }}`}}"
    region: us-central1
    project: "{{`{{ gcp_project }}`}}"
    auth_kind: "{{`{{ gcp_cred_kind }}`}}"
    service_account_file: "{{`{{ gcp_cred_file }}`}}"