---
examples:
  - name: 'vertex_ai_featurestore_entitytype_with_beta_fields'
    _drop: true
  - name: 'vertex_ai_featurestore_entitytype'
    exclude_test: true
  - name: 'vertex_ai_featurestore_entitytype_test'
    exclude_docs: true
properties:
  - name: 'name'
    type: String
    description:
      The name of the EntityType. This value may be up to 60 characters, and
      valid characters are [a-z0-9_]. The first character cannot be a number.
    url_param_only: true
    required: true
    immutable: true
custom_code:
  custom_import: |
    import re
  pre_read: |
    # if this comes from a registered variable, strip down to base name
    params["name"] = params["name"].split("/")[-1]

    # extract region from featurestore
    pattern = r"projects/(.+)/locations/(.+)/featurestores/(.+)"
    match = re.search(pattern, str(params["featurestore"]))
    if match:
        params["region"] = match.group(2)
  pre_create: _drop
  pre_delete: _drop
  encoder: _drop